angular.module("rt.eventemitter",[]).factory("eventEmitter",function(){function a(a,b,c){"string"==typeof a&&(c=b,b=a,a=null),this[f]||(this[f]={});var d=this[f];d[b]||(d[b]=[]),d[b].push(c);var e=this;return a&&a.$on("$destroy",function(){e.off(b,c)}),this}function b(a,b,c){"string"==typeof a&&(c=b,b=a,a=null);var d=this,e=function(){c.apply(this,arguments),d.off(b,e)};return this.on(a,b,e),this}function c(a,b){if(!this[f]||!this[f][a])return this;var c=this[f];if(b){var d=c[a],e=d.indexOf(b);e>-1&&d.splice(e,1)}else delete c[a];return this}function d(a){var b=this;return Object.keys(b[f]).filter(function(b){var c=new RegExp(b.replace(/\./g,"\\.").replace(/\*/g,".*")+"$");return c.test(a)}).reduce(function(a,c){return a.concat(b[f][c])},[])}function e(a){if(this[f]){for(var b=d.call(this,a),c=[].slice.call(arguments,1),e=0;e<b.length;e++)b[e].apply(null,c);return this}}var f="$$tinyEventListeners";return{inject:function(d){var f=d.prototype||d;f.on=a,f.once=b,f.off=c,f.emit=e}}});